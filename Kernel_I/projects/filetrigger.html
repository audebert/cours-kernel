
<!-- saved from url=(0072)https://intra.epitech.eu/admin/project/project-142/file/filetrigger.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><style type="text/css"></style></head><body>
<div style="font-family:Arial;width:600px;text-align:justify;">
File Trigger<br><br>

For this project, you will have to create a home made pseudo filesystem, compatible<br>
with the Linux Kernel VFS, using a loadable module.<br><br>

Files contents on your filesystem will not be stored on a local disk, but sent over<br>
the network to a server (kernel threads &amp; kernel sockets) that you will implement<br>
(userland &amp; you are free to use any language) and which adress:port will be a<br>
parameter specified at the module loading.<br><br>

Usage scenario (just an example) :<br><br>

$root@storage&gt;ftrigger_server -l 192.168.0.3 -p 12345 -s /path/to/fs/storage<br><br>

$root@l33t&gt;insmod ftriggerfs.ko "server=192.168.0.3:12345"<br>
$root@l33t&gt;mount -t ftriggerfs none /path/to/mount/point<br><br>

Also, you will have to write a system call in your kernel to create files and folders<br>
in your filesystem (beware, following your kernel version, you may not be able to trick<br>
anymore with the sys_call_table, so you can always rely on kernel compilation, thus<br>
having to ensure in your syscall that the ftrigger module is loaded).<br><br>

Usage scenario (still just an example) :<br><br>

{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ftrigger_add(0, "file1");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ftrigger_add(1, "folder1");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ftrigger_add(0, "folder1/subfile1");<br>
}<br><br>

You won't have to support file or folder suppression or manual creation<br>
(ex : $&gt; touch pipi) but size information support is required.<br><br>

Of course those wanting to go further can provide the support of that functions<br>
and in that case, the system call will not be necessary anymore.<br><br>

Filesystem entries are not persistent through module loading &amp; unloading (so<br>
sending cleaning message to server upon module cleanup can be a good idea).<br><br>

Documentation : http://www.kernel.org/doc/Documentation/filesystems/vfs.txt<br><br>

Corrections will take place on your computers.<br><br>

Bonus : Bufferization, Encryption, ...

Use the blih/git repository Kernel_FileTrigger to turn-in your work before the date<br>
specified on the intranet.<br>
</div>


</body></html>